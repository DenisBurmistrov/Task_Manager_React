(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{211:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),l=a(18),r=a.n(l),o=a(10),i=a(11),c=a(13),d=a(12),p=a(14),u=(a(94),a(95),a(96),a(29)),h=a(25),m=a(44),f=a.n(m),E=a(21),g=a.n(E),j=a(4),v=(a(36),a(8)),y=a.n(v),b=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).state={isOpen:a.props.defaultOpen,projects:a.props.projects,dateEnd:a.props.defaultDateEnd,name:"",description:""},a.handleInputName=function(e){a.setState({name:e.target.value})},a.handleInputDescription=function(e){a.setState({description:e.target.value})},a.handleInputDateEnd=function(e){a.setState({dateEnd:e.target.value})},a.handleAddProject=function(){var e=JSON.stringify({name:a.state.name,description:a.state.description,dateEnd:a.state.dateEnd});y.a.post("http://localhost:8080/project",e,{headers:{"Content-Type":"application/json"},withCredentials:!0}).then(function(e){a.props.handlerAddProject(!1)})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.state.isOpen&&s.a.createElement("div",{style:{width:"50%"}},s.a.createElement(j.f,{className:"inputs",label:"Type project name",type:"text",value:this.state.name,onChange:this.handleInputName}),s.a.createElement(j.f,{className:"inputs",label:"Type project description",type:"text",value:this.state.description,onInput:this.handleInputDescription}),s.a.createElement("br",null),s.a.createElement(j.f,{className:"inputs",label:"Type project date end",type:"date",value:this.state.dateEnd,onInput:this.handleInputDateEnd}),s.a.createElement(j.a,{style:{left:500},color:"success",onClick:this.handleAddProject},"Add project"))}},{key:"componentWillReceiveProps",value:function(e){e.defaultOpen!==this.props.defaultOpen&&this.setState({isOpen:e.defaultOpen})}}]),t}(n.Component),O=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={isOpen:!1,projects:[]},a.handlerAddProject=function(e){a.setState({isOpen:e}),a.getProjects(),a.props.getProjectIds()},a.btnCreateProject=function(){a.setState({isOpen:!a.state.isOpen})},a.getProjects=function(){y.a.get("http://localhost:8080/project/list").then(function(e){a.setState({projects:e.data})})},a.columns=[{dataField:"id",text:"ID"},{dataField:"name",text:"Name"},{dataField:"description",text:"Description"},{dataField:"dateBegin",text:"Date Begin",editable:!1},{dataField:"dateEnd",text:"Date End",editor:{type:E.Type.DATE}},{dataField:"delete",formatter:function(){return s.a.createElement(j.a,{style:{marginLeft:60},color:"danger"},"Delete")},events:{onClick:function(e,t,n,s,l){var r="http://localhost:8080/project/remove/"+s.id;y.a.delete(r,{headers:{"Content-Type":"application/json"},withCredentials:!0}).then(function(e){a.getProjects(),a.props.getProjectIds()})}},editable:!1,text:"Delete"}],a.cellEdit=g()({mode:"click",afterSaveCell:function(e,t,n,s){console.log("row",n);var l=JSON.stringify({id:n.id,name:n.name,description:n.description,dateEnd:n.dateEnd});y.a.put("http://localhost:8080/project",l,{headers:{"Content-Type":"application/json"},withCredentials:!0}).then(function(e){a.getProjects()})}}),a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(j.a,{style:{right:5},color:"default",onClick:this.btnCreateProject},"Create project"),s.a.createElement(b,{defaultOpen:this.state.isOpen,projects:this.state.projects,handlerAddProject:this.handlerAddProject,defaultDateEnd:"2020-10-10"}),s.a.createElement(f.a,{keyField:"id",data:this.state.projects,columns:this.columns,cellEdit:this.cellEdit}))}},{key:"componentDidMount",value:function(){this.getProjects()}}]),t}(n.Component),k=a(88),C=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).state={isOpen:a.props.defaultOpen,tasks:a.props.tasks,dateEnd:a.props.defaultDateEnd,name:"",description:"",selectedValue:""},a.handleInputName=function(e){a.setState({name:e.target.value})},a.handleInputDescription=function(e){a.setState({description:e.target.value})},a.handleInputDateEnd=function(e){a.setState({dateEnd:e.target.value})},a.handleAddTask=function(){var e=JSON.stringify({projectId:a.state.selectedValue,name:a.state.name,description:a.state.description,dateEnd:a.state.dateEnd});y.a.post("http://localhost:8080/task",e,{headers:{"Content-Type":"application/json"},withCredentials:!0}).then(function(e){a.props.handlerAddTask(!1)})},a.handleSelect=function(e){a.setState({selectedValue:e.value})},a.getProjects=function(){},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.state.isOpen&&s.a.createElement("div",{style:{width:"50%"}},s.a.createElement(j.f,{className:"inputs",label:"Type task name",type:"text",value:this.state.name,onChange:this.handleInputName}),s.a.createElement(j.f,{className:"inputs",label:"Type task description",type:"text",value:this.state.description,onInput:this.handleInputDescription}),s.a.createElement("br",null),s.a.createElement(j.f,{className:"inputs",label:"Type task date end",type:"date",value:this.state.dateEnd,onInput:this.handleInputDateEnd}),s.a.createElement(k.a,{options:this.props.projectIds,onChange:this.handleSelect,placeholder:"Select project id"}),s.a.createElement(j.a,{style:{left:600},color:"success",onClick:this.handleAddTask},"Add Task"))}},{key:"componentWillReceiveProps",value:function(e){e.defaultOpen!==this.props.defaultOpen&&this.setState({isOpen:e.defaultOpen})}},{key:"componentDidMount",value:function(){this.getProjects()}}]),t}(n.Component),I=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={isOpen:!1,tasks:[],projectIds:a.props.projectIds},a.handlerAddTask=function(e){a.setState({isOpen:e}),a.getTasks()},a.btnCreateTask=function(){a.setState({isOpen:!a.state.isOpen})},a.getTasks=function(){y.a.get("http://localhost:8080/task/list").then(function(e){a.setState({tasks:e.data})})},a.columns=[{dataField:"id",text:"ID"},{dataField:"name",text:"Name"},{dataField:"description",text:"Description"},{dataField:"dateBegin",text:"Date Begin",editable:!1},{dataField:"dateEnd",text:"Date End",editor:{type:E.Type.DATE}},{dataField:"projectId",text:"Project id",editor:{type:E.Type.SELECT,options:a.state.projectIds}},{dataField:"delete",formatter:function(){return s.a.createElement(j.a,{style:{marginLeft:60},color:"danger"},"Delete")},events:{onClick:function(e,t,n,s,l){var r="http://localhost:8080/task/remove/"+s.id;y.a.delete(r,{headers:{"Content-Type":"application/json"},withCredentials:!0}).then(function(e){a.getTasks()})}},editable:!1,text:"Delete"}],a.cellEdit=g()({mode:"click",afterSaveCell:function(e,t,n,s){console.log("row",n);var l=JSON.stringify({id:n.id,projectId:n.projectId,name:n.name,description:n.description,dateEnd:n.dateEnd});y.a.put("http://localhost:8080/task",l,{headers:{"Content-Type":"application/json"},withCredentials:!0}).then(function(e){a.getTasks()})}}),a.getProjectsId=function(){y.a.get("http://localhost:8080/project/list").then(function(e){var t=[];e.data.forEach(function(e){var a={value:e.id,label:e.id};t.push(a)}),a.setState({projectIds:t})})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(j.a,{style:{right:5},color:"default",onClick:this.btnCreateTask},"Create task"),s.a.createElement(C,{defaultOpen:this.state.isOpen,tasks:this.state.tasks,handlerAddTask:this.handlerAddTask,defaultDateEnd:"2020-10-10",projectIds:this.state.projectIds}),s.a.createElement(f.a,{keyField:"id",data:this.state.tasks,columns:this.columns,cellEdit:this.cellEdit}))}},{key:"componentDidMount",value:function(){this.getTasks()}}]),t}(n.Component),N=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).state={username:"",password:"",email:"",firstName:"",lastName:""},a.handleInputUsername=function(e){a.setState({username:e.target.value})},a.handleInputPassword=function(e){a.setState({password:e.target.value})},a.handleInputEmail=function(e){a.setState({email:e.target.value})},a.handleInputFirstName=function(e){a.setState({firstName:e.target.value})},a.handleInputLastName=function(e){a.setState({lastName:e.target.value})},a.handlerSignUp=function(){var e=JSON.stringify({login:a.state.username,password:a.state.password,email:a.state.email,firstName:a.state.firstName,lastName:a.state.lastName});y.a.post("http://localhost:8080/user/signUp",e,{headers:{"Content-Type":"application/json"},withCredentials:!0}).then(function(e){console.log(e),a.setState({username:"",password:"",email:"",firstName:"",lastName:""})})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement(j.e,null,s.a.createElement(j.g,null,s.a.createElement(j.d,{md:"6"},s.a.createElement(j.b,null,s.a.createElement(j.c,null,s.a.createElement("form",null,s.a.createElement("p",{className:"h4 text-center py-4"},"Sign up"),s.a.createElement("div",{className:"grey-text"},s.a.createElement(j.f,{label:"Your username",type:"text",value:this.state.username,onChange:this.handleInputUsername}),s.a.createElement(j.f,{label:"Your password",type:"password",value:this.state.password,onChange:this.handleInputPassword}),s.a.createElement(j.f,{label:"Your email",type:"email",value:this.state.email,onChange:this.handleInputEmail}),s.a.createElement(j.f,{label:"Your first name",type:"text",value:this.state.firstName,onChange:this.handleInputFirstName}),s.a.createElement(j.f,{label:"Your last name",type:"text",value:this.state.lastName,onChange:this.handleInputLastName})),s.a.createElement("div",{className:"text-center py-4 mt-3"},s.a.createElement(j.a,{color:"cyan",type:"submit",onClick:this.handlerSignUp},"Register"))))))))}}]),t}(n.Component),S=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).handlerLogin=function(){a.props.getProjectIds(),a.props.handlerAuth(!0);var e=JSON.stringify({username:a.state.username,password:a.state.password});y.a.post("http://localhost:8080/auth",e,{headers:{"Content-Type":"application/json"},withCredentials:!0}).then(function(e){console.log("response Post ",e),console.log("response Post data",e.data),console.log("response Post headers",e.headers)})},a.handleInputUsername=function(e){a.setState({username:e.target.value})},a.handleInputPassword=function(e){a.setState({password:e.target.value})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement(j.e,null,s.a.createElement(j.g,null,s.a.createElement(j.d,{md:"6"},s.a.createElement(j.b,null,s.a.createElement("div",{className:"header pt-3 grey lighten-2"},s.a.createElement(j.g,{className:"d-flex justify-content-start"},s.a.createElement("h3",{className:"deep-grey-text mt-3 mb-4 pb-1 mx-5"},"Log in"))),s.a.createElement(j.c,{className:"mx-4 mt-4"},s.a.createElement(j.f,{label:"Your username",group:!0,type:"text",value:this.state.username,onChange:this.handleInputUsername}),s.a.createElement(j.f,{label:"Your password",group:!0,type:"password",validate:!0,containerClass:"mb-0",value:this.state.password,onChange:this.handleInputPassword}),s.a.createElement("div",{className:"text-center mb-4 mt-5"},s.a.createElement(j.a,{color:"danger",type:"button",className:"btn-block z-depth-2",onClick:this.handlerLogin},"Log in")),s.a.createElement("p",{className:"font-small grey-text d-flex justify-content-center"},"Don't have an account?",s.a.createElement("a",{href:"#/signUp",className:"dark-grey-text font-weight-bold ml-1"},"Sign up")))))))}}]),t}(n.Component),w=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={isAuth:!1,projectIds:[]},a.LoginComponent=function(e){return s.a.createElement(S,Object.assign({},e,{handlerAuth:a.handlerAuth,getProjectIds:a.getProjectsId}))},a.TaskTableComponent=function(e){return s.a.createElement(I,Object.assign({},e,{handlerAuth:a.handlerAuth,projectIds:a.state.projectIds}))},a.ProjectTableComponent=function(e){return s.a.createElement(O,Object.assign({},e,{getProjectIds:a.getProjectsId}))},a.SignUnComponent=function(e){return s.a.createElement(N,e)},a.handlerAuth=function(e){a.setState({isAuth:e})},a.getProjectsId=function(){y.a.get("http://localhost:8080/project/list").then(function(e){var t=[];e.data.forEach(function(e){var a={value:e.id,label:e.id};t.push(a)}),a.setState({projectIds:t})})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement(u.a,null,this.autorization())}},{key:"autorization",value:function(){return!0===this.state.isAuth?s.a.createElement("div",null,s.a.createElement("h1",{className:"title"},"Task Manager"),s.a.createElement("ul",{className:"header"},s.a.createElement("li",null,s.a.createElement(u.b,{to:"/"},"Projects")),s.a.createElement("li",null,s.a.createElement(u.b,{to:"/tasks"},"Tasks"))),s.a.createElement("div",{className:"table"},s.a.createElement(h.a,{exact:!0,path:"/",component:this.ProjectTableComponent}),s.a.createElement(h.a,{exact:!0,path:"/tasks",component:this.TaskTableComponent}))):s.a.createElement("div",null,s.a.createElement("h1",{className:"title"},"Task Manager"),s.a.createElement("ul",{className:"header"},s.a.createElement("li",null,s.a.createElement(u.b,{to:"/login"},"Login")),s.a.createElement("li",null,s.a.createElement(u.b,{to:"/signUp"},"Sign Up"))),s.a.createElement("div",{className:"content"},s.a.createElement(h.a,{path:"/login",component:this.LoginComponent}),s.a.createElement(h.a,{path:"/signUp",component:this.SignUnComponent})))}}]),t}(n.Component),T=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(w,null))}}]),t}(n.Component);r.a.render(s.a.createElement(T,null),document.getElementById("root"))},36:function(e,t,a){},89:function(e,t,a){e.exports=a(211)}},[[89,1,2]]]);
//# sourceMappingURL=main.a7289491.chunk.js.map